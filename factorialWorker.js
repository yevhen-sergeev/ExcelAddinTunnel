const FACTORIAL_CACHE=new Map;console.log("FACTORIAL WORKER LOADED!!!"),self.onmessage=async function(e){const{n:o,orientationMode:s="row"}=e.data;if(console.log("Web Worker enter value: ",o),o<0||!Number.isInteger(o))return void postMessage({error:"Input must be a non-negative integer."});if(o>500)return void postMessage({error:"Input must be less then 500."});const t=`${o}_${s}`;if(FACTORIAL_CACHE.has(t)){const e=FACTORIAL_CACHE.get(t);console.log("Web Worker result from FACTORIAL_CACHE",t),postMessage({result:e})}else{const e=[];let n=BigInt(1);for(let s=1;s<=o;s++)n*=BigInt(s),e.push(n.toString());const r="row"===s?[e]:e.map((e=>[e]));FACTORIAL_CACHE.set(t,r),console.log("Web Worker calculated result",t),postMessage({result:r})}};